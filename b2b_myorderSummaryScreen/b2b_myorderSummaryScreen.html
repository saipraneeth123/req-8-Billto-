<template>
    <lightning-card title="Order Summary" icon-name="custom:custom3">
      <div>
        <template if:true={cartInfo.data}>
  
       <!--   <template iterator:it={cartInfo.data}>
            <div key={it.value.Id} class="contentClass">
              <b>Cart Name</b> - {it.value.Name}</br></br> 
              <b>Account Name</b> - {it.value.Account.Name}</br></br>
              
              
              
              <b>Total Price</b> - <lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.GrandTotalAmount} maximum-fraction-digits="2"></lightning-formatted-number></br></br>
            </div>
  
          </template>
        -->
  
        <!--  <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered">
            <thead>
              <tr>
               <th scope="col"><span class="slds-truncate">Name</span></th>  
                <th scope="col"><span class="slds-truncate">Product Name</span></th>
                <th scope="col"><span class="slds-truncate">Billing Frequency</span></th>
                <th scope="col"><span class="slds-truncate">Quantity</span></th>
                <th scope="col"><span class="slds-truncate">Price Per Unit</span></th>
                <th scope="col"><span class="slds-truncate">Tax</span></th>
                <th scope="col"><span class="slds-truncate">Total Amount</span></th>
              </tr>
            </thead>
            <tbody>
              <template iterator:it={cartInfo.data}>
  
                <template iterator:it={it.value.CartItems}>
  
  
                  <tr key={it.value.Id}>
                    <td>{it.value.Name}</td> 
                    <td class="slds-cell-wrap">
                      <a onclick={openProductDetail}
                      data-id={it.value.Product2.Id}>{it.value.Product2.Name}</a>
                    </td>
                    <td>
                      
                      
                      <div if:true={it.value.Subscription__c}>
                        <strong>{it.value.Subscription__r.SBQQ__BillingFrequency__c}</strong>
                    </div>
                    
                      
                    </td>
                    <td>{it.value.Quantity}</td>
                    <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.SalesPrice} maximum-fraction-digits="2"></lightning-formatted-number></td>
                    <td><lightning-formatted-number  format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol"  value={it.value.TotalLineTaxAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                  
                    <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.TotalAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                  </tr>
  
                </template>
  
              </template>
  
            </tbody>
          </table>
        -->

          <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered">
            <thead>
              <tr>
               <!--<th scope="col"><span class="slds-truncate">Name</span></th> --> 
                <th scope="col"><span class="slds-truncate">Product Name</span></th>
                <th scope="col"><span class="slds-truncate">Product SKU</span></th>
              <!--   <th scope="col"><span class="slds-truncate">Start Date</span></th> 
                   <th scope="col"><span class="slds-truncate">End Date</span></th>-->  
                
                <th scope="col"><span class="slds-truncate">Price Per Unit</span></th>
                <th scope="col"><span class="slds-truncate">Quantity</span></th>
                <th scope="col"><span class="slds-truncate">Total Product Amount</span></th>
             
             <!--   <th scope="col"><span class="slds-truncate">Total Amount</span></th> -->
                
              </tr>
            </thead>
            <tbody>
              <template iterator:it={cartInfo.data}>
  
                <template iterator:it={it.value.CartItems}>
  
  
                  <tr key={it.value.Id}>
                   <!-- <td>{it.value.Name}</td>--> 

                   <td class="slds-cell-wrap">
                    <a onclick={openProductDetail}
                    data-id={it.value.Product2.Id}>{it.value.Product2.Name}</a>
                  </td>


                    <td class="slds-cell-wrap">
                      <a onclick={openProductDetail}
                      data-id={it.value.Product2.Id}>{it.value.Sku}</a>
                    </td>

                  <!--  <td class="slds-cell-wrap">
                        <a onclick={openProductDetail}
                        data-id={it.value.Product2.Id}>{it.value.Start_Date__c}</a>
                      </td>
                      -->
                      


                      <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.SalesPrice} maximum-fraction-digits="2"></lightning-formatted-number></td>

                      <td>{it.value.Quantity}</td>

                      <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.TotalLineAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>


                    <!--  <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.GrandTotalAmount} maximum-fraction-digits="2"></lightning-formatted-number></td> -->
                      
                      <!--
                    <td>
                      <div if:true={it.value.B2B_SubProdTerm__c}>
                        <strong>{it.value.B2B_SubProdTerm__r.Installment_Frequency_UOM__c}</strong>
                      </div>
                      
                      <div if:true={it.value.Subscription__c}>
                        <strong>{it.value.Subscription__r.SBQQ__BillingFrequency__c}</strong>
                    </div>
                    
                      
                    </td>
                    
                    <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.TotalLineAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                    <td><lightning-formatted-number  format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol"  value={it.value.TotalLineTaxAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                    <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.TotalAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                    <td><lightning-formatted-number format-style="currency" currency-code={it.value.CurrencyIsoCode} currency-display-as="symbol" value={it.value.GrandTotalAmount} maximum-fraction-digits="2"></lightning-formatted-number></td>
                  -->
                </tr>
                  
  
                </template>
  
              </template>
  
            </tbody>
          </table>
        </template>
      </div>
    </lightning-card>
  </template>

